# PyQt5 Client 数据库迁移(更新)说明

> updated at 2019-05-16 by Zico

`简述`

PyQt5 Client客户端的本地采用 sqlite3 单文件作为用户数据的缓存数据库;

由于特殊性,所以不能直接发布新版本的数据库文件进行覆盖;

`数据迁移`

现阶段的解决方法是采用编写或生成当前发布版本需要处理的数据库操作为sql文件;

并产生对应日期的可执行的bat批量文件进行客户自己更新;

`文件`

本文件夹内的文件仅作为升级操作所用,有以下文件:

> - 数据库驱动文件      sqlite3.exe
> - 数据库升级sql文件   xxxxxxxx-zico.sql
> - 数据库批量处理文件  xxxxxxxx-zico-update-database.bat

`命名规范`

每次进行升级操作都必须生成对应的sql和bat执行文件

文件的命名方式,采用

> `创建日期` `当日文件编号` - `作者` . sql

> `创建日期` `当日文件编号` - `作者` - `操作内容` . bat

`注意`

生成的bat文件中须包含正确的操作数据库文件路径和要执行的sql文件名