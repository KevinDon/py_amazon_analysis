webpackJsonp([18],{mK5m:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),s=a("exGp"),r=a.n(s),o=a("bQLH"),l=a("x2f6"),c=a("gUwQ"),h={name:"chartSkuVpList",components:{sideFilter:function(){return a.e(1).then(a.bind(null,"LvtV"))}},data:function(){return{chartModes:[{label:"日统计表",name:"chart_daily"},{label:"月统计表",name:"chart_monthly"},{label:"周统计表",name:"chart_weekly"}],screenWidth:document.body.clientWidth,fullscreenLoading:!1,fixShow:!0,asideShow:!0,queryForm:[],dailyChart:null,monthlyChart:null,weeklyChart:null,chartData:[],chartSelected:["chart_daily","chart_monthly","chart_weekly"]}},mounted:function(){var t=this;t.dailyChart=c.init(document.getElementById("chartDaily"),"canvas","auto","auto"),t.monthlyChart=c.init(document.getElementById("chartMonthly"),"canvas","auto","auto"),t.weeklyChart=c.init(document.getElementById("chartWeekly"),"canvas","auto","auto"),window.onresize=function(){return window.screenWidth=document.body.clientWidth,void(t.screenWidth=window.screenWidth)}},methods:{asideToggleHandler:function(t){var e=this;console.log("切换侧栏"),e.asideShow=!!e.fixShow||t,setTimeout(function(){l.default.chartResizeHandle(e.dailyChart),l.default.chartResizeHandle(e.monthlyChart),l.default.chartResizeHandle(e.weeklyChart)},500)},filterSubmitHandle:function(){var t=r()(i.a.mark(function t(e){var a,n,s,r,c,h,d,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this,n=[],e.skuSelected.length>0&&(s=[],e.skuSelected.forEach(function(t){void 0!=t&&s.push({"sku-eq":t.sku})}),n.push(s)),r=void 0,c=void 0,r=e.dateSelected[0],c=e.dateSelected[1],!(e.chartSelected.length>0)){t.next=26;break}if(a.chartSelected=e.chartSelected,!a.showDailyChart){t.next=14;break}return(h=[].concat(n)).push([{"dy-gte-and":r}]),h.push([{"dy-lte-and":c}]),t.next=14,o.default.statamazonskutotalitemsday("/v1/statamazonskupvday/",{},h).then(function(t){a.daliyChartOptions=l.default.skuDailyChangHandle(a.dailyChart,t.data,a)});case 14:if(!a.showMonthlyChart){t.next=20;break}return(d=[].concat(n)).push([{"first_day-gte-and":r}]),d.push([{"last_day-lte-and":c}]),t.next=20,o.default.statamazonskutotalitemsmonth("/v1/statamazonskupvmonth/",{},d).then(function(t){a.monthlyChartOptions=l.default.skuMonthlyChangeHandle(a.monthlyChart,t.data,a)});case 20:if(!a.showWeeklyChart){t.next=26;break}return(u=[].concat(n)).push([{"first_day-gte-and":r}]),u.push([{"last_day-lte-and":c}]),t.next=26,o.default.statamazonskutotalitemsweek("/v1/statamazonskupvweek/",{},u).then(function(t){a.weeklyChartOptions=l.default.skuWeeklyChangeHandle(a.weeklyChart,t.data,a)});case 26:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),filterSubmit:function(){var t=r()(i.a.mark(function t(e){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=this).fullscreenLoading=!0,t.next=4,a.filterSubmitHandle(e).then(function(t){a.fullscreenLoading=!1,a.$message.success(a.$i18n.t("message.success"))}).catch(function(t){a.fullscreenLoading=!1,a.$message.error(t)});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),chartResizeHandle:function(){}},computed:{showDailyChart:function(){return this.chartSelected.indexOf("chart_daily")>=0},showMonthlyChart:function(){return this.chartSelected.indexOf("chart_monthly")>=0},showWeeklyChart:function(){return this.chartSelected.indexOf("chart_weekly")>=0}},watch:{screenWidth:function(t){if(!this.timer){this.screenWidth=t,this.timer=!0;var e=this;setTimeout(function(){console.log(e.screenWidth),l.default.chartResizeHandle(e.dailyChart),l.default.chartResizeHandle(e.monthlyChart),l.default.chartResizeHandle(e.weeklyChart),e.timer=!1},500)}}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("div",{staticClass:"side-box mark el-icon-d-arrow-right",class:t.asideShow||t.fixShow?"hide":"show",on:{mouseover:function(e){return t.asideToggleHandler(!t.asideShow)}}}),t._v(" "),a("el-aside",{staticClass:"aside",class:t.asideShow?"aside-show":"aside-hide",staticStyle:{background:"rgb(48, 65, 86)",float:"left",position:"fixed",height:"100%",bottom:"0",left:"0",right:"0","z-index":"99"},nativeOn:{mouseleave:function(e){return t.asideToggleHandler(!1)}}},[a("div",{staticClass:"aside-toggle-btn"},[a("el-button",{staticClass:"el-icon-third el-icon-ping",class:t.fixShow?"fix":"nofix",staticStyle:{border:"none",padding:"5px",margin:"0 5px 0 0"},on:{click:function(e){t.fixShow=!t.fixShow}}})],1),t._v(" "),a("side-filter",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{chartModes:t.chartModes,getSkuUrl:"/v1/statamazonsku/"},on:{listenFilterSubmit:t.filterSubmit}})],1),t._v(" "),a("el-container",[a("el-header",{}),t._v(" "),a("el-main",{style:t.fixShow?"margin :0 0 0 270px;":"",attrs:{id:"main-box"}},[a("div",{directives:[{name:"show",rawName:"v-show.sync",value:t.showDailyChart,expression:"showDailyChart",modifiers:{sync:!0}}],staticClass:"chart-box"},[a("div",{staticClass:"chart",attrs:{id:"chartDaily"}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show.sync",value:t.showMonthlyChart,expression:"showMonthlyChart",modifiers:{sync:!0}}],staticClass:"chart-box"},[a("div",{staticClass:"chart",attrs:{id:"chartMonthly"}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show.sync",value:t.showWeeklyChart,expression:"showWeeklyChart",modifiers:{sync:!0}}],staticClass:"chart-box"},[a("div",{staticClass:"chart",attrs:{id:"chartWeekly"}})])])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(h,d,!1,function(t){a("omHl")},"data-v-3490a871",null);e.default=u.exports},omHl:function(t,e){}});
//# sourceMappingURL=18.js.map