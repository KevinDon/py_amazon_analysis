{"version":3,"sources":["webpack:///src/pages/chartPage/components/keywordDialog.vue","webpack:///./src/pages/chartPage/components/keywordDialog.vue?974f","webpack:///./src/pages/chartPage/components/keywordDialog.vue"],"names":["keywordDialog","name","props","propGetKeywordUrl","getDailyReportUrl","getMonthlyReportUrl","getWeeklyReportUrl","propKeywordSelectShow","default","propMaxSelect","data","keywordSelectShow","keywordListSelectedTemp","keywordSearchWord","keywordListTableCurrentPage","keywordListTableTotalPage","keywordListTotalRecord","keywordListTablePageSize","sysConfig","system","query","pageSize","keywordListTableLoading","keywordListTableInit","methods","dialogKeywordShowHandle","console","log","this","dialogKeywordGetHandle","keywordListTablePageFilter","inputSearchWordFilter","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","vm","form","arguments","length","undefined","filter","wrap","_context","prev","next","dialogKeywordSelectShow","chartApiHandler","statamazonkeyword","then","response","$store","dispatch","tp","tr","catch","err","$message","error","message","$i18n","t","stop","apply","dialogTableCheckSelect","row","col","event","dialogKeywordListTableRowSelectedHandle","$refs","multipleTable","selection","dialogKeywordListTableSelectionChange","val","totalSelectKeywordItems","forEach","item","index","keywordListTable","id","toggleRowSelection","rowExist","warning","push","splice","indexOf","dialogKeywordSelectCancelHandle","dialogKeywordSelectSubmitHandle","concat","toConsumableArray_default","$parent","keywordSearchHandle","_ref2","_callee2","_context2","_x3","dialogKeywordFilterFunc","value","keywordListTablePageChangeHandle","cp","computed","keywordListSelected","getters","getFilterKeywordSelectData","keywordListData","getFilterKeywordData","chartType","$route","meta","series","_queryParams","title-ilk","page","size","keywordListTableFiltered","keywordSearch","keyword","match","RegExp","_keywordList","_repeated","beforeClose","$emit","watch","components_keywordDialog","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","modal","top","append-to-body","close-on-click-modal","before-close","on","update:visible","$event","opened","staticStyle","height","z-index","gutter","span","staticClass","placeholder","model","callback","$$v","expression","slot","type","icon","click","_v","directives","rawName","ref","width","margin-top","min-height","max-height","select-on-indeterminate","header-row-style","select","row-click","filter-method","prop","label","margin","align","small","background","layout","page-count","current-page","update:currentPage","update:current-page","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"gMA0FAA,GACAC,KAAA,gBACAC,OACAC,kBAAA,GACAC,kBAAA,GACAC,oBAAA,GACAC,mBAAA,GACAC,uBACAC,SAAA,GAEAC,eACAD,QAAA,KAGAE,KAdA,WAeA,OACAC,mBAAA,EAEAC,2BACAC,kBAAA,GACAC,4BAAA,EACAC,0BAAA,EACAC,uBAAA,EACAC,yBAAAC,EAAA,EAAAC,OAAAC,MAAAC,SAAA,EACAC,yBAAA,EACAC,sBAAA,IAGAC,SAEAC,wBAAA,WACAC,QAAAC,IAAA,QACAC,KACAL,sBADAK,KAEAC,uBAFAD,KAEAE,2BAFAF,KAEAG,wBAKAF,uBAAA,eAAAG,EAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAAAG,EAAAH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,aAAAN,EAAAC,EAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACArB,QAAAC,IAAA,2BACAW,EAAAV,MACAoB,yBAAA,EACAV,EAAAhB,yBAAA,EAJAuB,EAAAE,KAAA,EAKAE,EAAA,QAAAC,kBAAAZ,EAAAnC,kBAAAoC,EAAAI,GAAAQ,KAAA,SAAAC,GACAd,EAAAe,OAAAC,SAAA,wBAAAF,EAAA1C,MAEA0C,EAAAG,GAAA,GAEAjB,EAAAe,OAAAC,SAAA,4BAEAhB,EAAAtB,uBAAAoC,EAAAI,GAAAJ,EAAAI,GAAA,EACAlB,EAAAvB,0BAAAqC,EAAAG,GACAjB,EAAAhB,yBAAA,IACAmC,MAAA,SAAAC,GACApB,EAAAqB,SAAAC,MAAAF,EAAAG,SAAAvB,EAAAwB,MAAAC,EAAA,SACAzB,EAAAhB,yBAAA,IAjBA,wBAAAuB,EAAAmB,SAAA3B,EAAAT,SAAA,yBAAAI,EAAAiC,MAAArC,KAAAY,YAAA,GAqBA0B,uBAAA,SAAAC,EAAAC,EAAAC,GACA3C,QAAAC,IAAAwC,GACAvC,KACA0C,wCADA1C,KACA2C,MAAAC,cAAAC,UAAAN,IAGAO,sCAtCA,SAsCAC,GACA,IAAArC,EAAAV,KACAF,QAAAC,IAAA,cAEAW,EAAAsC,wBAAAC,QAAA,SAAAC,GACA,QAAAC,KAAAzC,EAAA0C,iBAAA,CACA,IAAAb,EAAA7B,EAAA0C,iBAAAD,GACArD,QAAAC,IAAAwC,GACAW,EAAAG,IAAAd,EAAAc,KACA3C,EAAAiC,MAAAC,cAAAU,mBAAAJ,GAAA,GACAxC,EAAAiC,MAAAC,cAAAU,mBAAAf,GAAA,QAMAG,wCAtDA,SAsDAG,EAAAN,GACA,IAAA7B,EAAAV,KACAuD,EAAA7C,EAAA1B,wBAAA+B,OAAA,SAAAgC,GAAA,OAAAR,EAAAc,IAAAN,EAAAM,KAEA,GAAAE,EAAA1C,OAAA,GAEA,GADAf,QAAAC,IAAA,UAAAwD,EAAA1C,OAAA,EAAA0C,KACA7C,EAAA1B,wBAAA6B,OAAAH,EAAA7B,eAOA,OAFA6B,EAAAqB,SAAAyB,QAAA,cAAA9C,EAAA7B,cAAA,KACA6B,EAAAiC,MAAAC,cAAAU,mBAAAf,GAAA,IACA,EANA7B,EAAA1B,wBACAyE,KAAAlB,GACA7B,EAAAiC,MAAAC,cAAAU,mBAAAf,GAAA,QAOA7B,EAAA1B,wBAAA0E,OAAAhD,EAAA1B,wBAAA2E,QAAApB,GAAA,GACA7B,EAAAiC,MAAAC,cAAAU,mBAAAf,GAAA,GAEAzC,QAAAC,IAAA,SAAAwD,EAAA1C,OAAA,EAAA0C,IAIAK,gCAAA,WACA5D,KAEAyB,OAAAC,SAAA,oCAFA1B,KAGAoB,yBAAA,GAGAyC,gCAAA,WACA,IAAAnD,EAAAV,KACA,GAAAU,EAAAsC,wBAAAnC,OAAA,GAEA,OADAH,EAAAqB,SAAAyB,QAAA,gBACA,EAEA9C,EAAAzB,kBAAA,GACAyB,EAAAxB,4BAAA,EAEAwB,EAAAe,OAAAC,SAAA,mCAAAoC,OAAAC,IAAArD,EAAAsC,2BACAtC,EAAA1B,2BACA0B,EAAA3B,mBAAA,EAGA2B,EAAAsD,QAAAhB,wBAAAtC,EAAAsC,yBAQAiB,oBAAA,eAAAC,EAAA7D,IAAAC,EAAAC,EAAAC,KAAA,SAAA2D,EAAApB,GAAA,IAAArC,EAAA,OAAAJ,EAAAC,EAAAS,KAAA,SAAAoD,GAAA,cAAAA,EAAAlD,KAAAkD,EAAAjD,MAAA,QACAT,EAAAV,MACAd,4BAAA,EACAwB,EAAAT,uBAAAS,EAAAR,2BAAAQ,EAAAP,uBAHA,wBAAAiE,EAAAhC,SAAA+B,EAAAnE,SAAA,gBAAAqE,GAAA,OAAAH,EAAA7B,MAAArC,KAAAY,YAAA,GAMA0D,wBAAA,SAAAC,EAAAhC,EAAAC,GACA1C,QAAAC,IAAAwE,EAAA,QAGAC,iCAAA,SAAAC,GACA3E,QAAAC,IAAA0E,GACAzE,KACAd,4BAAAuF,EADAzE,KAEAC,uBAFAD,KAEAE,2BAFAF,KAEAG,yBAGAuE,UACAC,oBAAA,SAAAjE,GAAA,OAAAA,EAAAe,OAAAmD,QAAAC,4BACAC,gBAAA,SAAApE,GAAA,OAAAA,EAAAe,OAAAmD,QAAAG,sBAEAC,UAAA,WAGA,OAFAhF,KACAyB,OAAAC,SAAA,mBADA1B,KACAiF,OAAAC,KAAAC,QADAnF,KAEAiF,OAAAC,KAAAC,QAGAhF,sBAAA,WACA,IACAiF,KAKA,OANApF,KAEAd,4BAAA,EAFAc,KAGAf,mBACAmG,EAAA3B,OAAA4B,YAJArF,KAIAf,qBAEAmG,GAGAlF,2BAAA,WAEA,OAAAoF,KADAtF,KACAd,4BAAAqG,KADAvF,KACAX,0BAAAC,EAAA,EAAAC,OAAAC,MAAAC,WAEA+F,yBAAA,WACA,IAAA9E,EAAAV,KAEA,OADAU,EAAA+E,cAAA/E,EAAA0C,iBAAArC,OAAA,SAAAmC,GAAA,OAAAA,EAAAwC,QAAAC,MAAA,IAAAC,OAAAlF,EAAA+E,cAAA,QAAA/E,EAAA0C,kBAIAJ,wBAAA,WACA,IAAAtC,EAAAV,KAAA6F,OAAA,EAiBA,OAfAA,EAAAnF,EAAA1B,wBAAA+B,OAAA,SAAAmC,GACA,IAAA4C,OAAA,EACA,QAAA3C,KAAAzC,EAAAiE,oBAAA,CAEA,OADAmB,EAAApF,EAAAiE,oBAAAxB,GAAA,IAAAD,EAAA,IAEA,MAEA4C,GAAA,EAGA,OAAAA,IAGAhG,QAAAC,IAAA,SAAA8F,GAEAA,EAAA/B,OAAApD,EAAAiE,sBAGAoB,YAAA,WACA/F,KAAAgG,MAAA,UAAAhG,KAAAjB,qBAGAkH,OACAtH,sBADA,SACAoE,GACA/C,KAAAjB,kBAAAgE,KCvSemD,GADEC,OAFjB,WAA0B,IAAAC,EAAApG,KAAaqG,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,OAAOC,MAAA,aAAAC,QAAAP,EAAArH,kBAAA6H,OAAA,EAAAC,IAAA,MAAAC,kBAAA,EAAAC,wBAAA,EAAAC,eAAAZ,EAAAL,aAAgKkB,IAAKC,iBAAA,SAAAC,GAAkCf,EAAArH,kBAAAoI,GAA6BC,OAAAhB,EAAAvG,2BAAuC0G,EAAA,UAAec,aAAaC,OAAA,OAAAC,UAAA,QAAiCd,OAAQe,OAAA,MAAajB,EAAA,UAAeE,OAAOgB,KAAA,MAAWlB,EAAA,YAAiBmB,YAAA,oBAAAjB,OAAuCkB,YAAA,gBAAApC,KAAA,QAA4CqC,OAAQrD,MAAA6B,EAAA,kBAAAyB,SAAA,SAAAC,GAAuD1B,EAAAnH,kBAAA6I,GAA0BC,WAAA,uBAAiCxB,EAAA,aAAkBE,OAAOuB,KAAA,SAAAC,KAAA,UAAAC,KAAA,iCAAwEjB,IAAKkB,MAAA/B,EAAAnC,qBAAgC+D,KAAA,YAAe,OAAA5B,EAAAgC,GAAA,KAAA7B,EAAA,UAAmCE,OAAOgB,KAAA,MAAWlB,EAAA,YAAiB8B,aAAahK,KAAA,UAAAiK,QAAA,YAAA/D,MAAA6B,EAAA,wBAAA2B,WAAA,4BAA4GQ,IAAA,gBAAAb,YAAA,UAAAL,aAAyDmB,MAAA,OAAAC,aAAA,OAAAC,aAAA,QAAAC,aAAA,SAA6ElC,OAAQ3H,KAAAsH,EAAAtB,gBAAA6D,aAAA,MAAAC,2BAAA,EAAAC,oBAAkGvB,OAAA,SAAeL,IAAK6B,OAAA1C,EAAA1D,wCAAAqG,YAAA3C,EAAA9D,0BAA6FiE,EAAA,mBAAwBmB,YAAA,eAAAjB,OAAkCwB,KAAA,YAAAO,MAAA,MAAgCvB,IAAK+B,gBAAA5C,EAAA9B,2BAA6C8B,EAAAgC,GAAA,KAAA7B,EAAA,mBAAoCmB,YAAA,eAAAjB,OAAkCwC,KAAA,KAAAC,MAAA,QAA0B9C,EAAAgC,GAAA,KAAA7B,EAAA,mBAAoCmB,YAAA,eAAAjB,OAAkCwC,KAAA,QAAAC,MAAA,YAAgC,GAAA9C,EAAAgC,GAAA,KAAA7B,EAAA,UAA+Bc,aAAa8B,OAAA,eAAsB5C,EAAA,UAAeE,OAAO2C,MAAA,YAAkB7C,EAAA,iBAAsBE,OAAO4C,MAAA,GAAAC,WAAA,GAAAC,OAAA,mCAAAC,aAAApD,EAAAjH,0BAAAsK,eAAArD,EAAAlH,6BAAiK+H,IAAKyC,qBAAA,SAAAvC,GAAsCf,EAAAlH,4BAAAiI,GAAuCwC,sBAAA,SAAAxC,GAAwCf,EAAAlH,4BAAAiI,GAAuCyC,iBAAAxD,EAAA5B,qCAAwD,WAAA4B,EAAAgC,GAAA,KAAA7B,EAAA,UAAuCE,OAAOgB,KAAA,MAAWlB,EAAA,YAAiB8B,aAAahK,KAAA,UAAAiK,QAAA,YAAA/D,MAAA6B,EAAA,wBAAA2B,WAAA,4BAA4GL,YAAA,UAAAL,aAAqCmB,MAAA,OAAAC,aAAA,OAAAC,aAAA,QAAAC,aAAA,SAA6ElC,OAAQ3H,KAAAsH,EAAApH,wBAAA2J,aAAA,SAAuDpC,EAAA,mBAAwBE,OAAOwC,KAAA,QAAAC,MAAA,uBAA2C,WAAA9C,EAAAgC,GAAA,KAAA7B,EAAA,OAAoCmB,YAAA,gBAAAjB,OAAmCuB,KAAA,SAAAoB,MAAA,UAAiCpB,KAAA,WAAezB,EAAA,aAAkBE,OAAOlB,KAAA,QAAc0B,IAAKkB,MAAA/B,EAAAxC,mCAA6CwC,EAAAgC,GAAA,SAAAhC,EAAAgC,GAAA,KAAA7B,EAAA,aAA8CE,OAAOwB,KAAA,UAAA1C,KAAA,QAA+B0B,IAAKkB,MAAA/B,EAAAvC,mCAA6CuC,EAAAgC,GAAA,kBAE99FyB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE5L,EACA8H,GATF,EAVA,SAAA+D,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/front/js/3.js","sourcesContent":["<template>\n  <el-dialog title=\"Keyword 选择\"  :visible.sync=\"keywordSelectShow\" :modal=\"true\" top=\"5vh\"\n             :append-to-body=\"true\"\n             :close-on-click-modal=\"false\"\n             @opened=\"dialogKeywordShowHandle\"\n             :before-close=\"beforeClose\">\n    <el-row :gutter=\"24\" style=\"height: 70vh;z-index:2048\">\n      <!--搜索栏-->\n      <el-col :span=\"14\">\n        <el-input placeholder=\"输入Keyword进行搜索\" v-model=\"keywordSearchWord\"\n                  class=\"input-with-select\"\n                  size=\"mini\">\n          <el-button slot=\"append\" type=\"primary\" icon=\"el-icon-third  el-icon-search\"\n                     @click=\"keywordSearchHandle\"></el-button>\n        </el-input>\n      </el-col>\n      <el-col :span=\"14\">\n\n        <el-table\n          class=\"compact\"\n          ref=\"multipleTable\"\n          v-loading=\"keywordListTableLoading\"\n          :data=\"keywordListData\"\n          style=\"width: 100%;margin-top:.5em;min-height: 400px;max-height: 500px;\"\n          max-height=\"500\"\n          :select-on-indeterminate=\"false\"\n          :header-row-style=\"{height:'32px'}\"\n          @select=\"dialogKeywordListTableRowSelectedHandle\"\n          @row-click=\"dialogTableCheckSelect\"\n        >\n          <el-table-column\n            class=\"table-column\"\n            type=\"selection\"\n            @filter-method=\"dialogKeywordFilterFunc\"\n            width=\"55\">\n          </el-table-column>\n          <el-table-column\n            class=\"table-column\"\n            prop=\"id\"\n            label=\"Id\">\n          </el-table-column>\n          <el-table-column\n            class=\"table-column\"\n            prop=\"title\"\n            label=\"Title\">\n          </el-table-column>\n\n        </el-table>\n        <el-row style=\"margin: 5px 0 0 0\">\n          <el-col align=\"center\">\n            <el-pagination\n              small\n              background\n              layout=\"total, prev, pager, next, jumper\"\n\n              :page-count=\"keywordListTableTotalPage\"\n              :current-page.sync=\"keywordListTableCurrentPage\"\n              @current-change=\"keywordListTablePageChangeHandle\">\n            </el-pagination>\n          </el-col>\n        </el-row>\n\n      </el-col>\n      <el-col :span=\"10\">\n        <el-table\n          class=\"compact\"\n          v-loading=\"keywordListTableLoading\"\n          :data=\"keywordListSelectedTemp\"\n          style=\"width: 100%;margin-top:.5em;min-height: 400px;max-height: 500px;\"\n          max-height=\"600\">\n          <el-table-column\n            prop=\"title\"\n            label=\"Selected Keyword\">\n          </el-table-column>\n\n        </el-table>\n      </el-col>\n    </el-row>\n    <div slot=\"footer\" class=\"dialog-footer\" align=\"center\">\n      <el-button @click=\"dialogKeywordSelectCancelHandle\" size=\"mini\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"dialogKeywordSelectSubmitHandle\" size=\"mini\">确 定</el-button>\n    </div>\n  </el-dialog>\n\n</template>\n\n<script>\n  import Configs from '@/lib/sysConfig';\n  import ChartApi from '@/pages/chartPage/lib/chartApiHandler.js';\n\n  export default {\n      name: \"keywordDialog\",\n      props: {\n        propGetKeywordUrl: '',\n        getDailyReportUrl: '',\n        getMonthlyReportUrl: '',\n        getWeeklyReportUrl: '',\n        propKeywordSelectShow : {\n          default :false\n        },\n        propMaxSelect: {\n          default: 20\n        }\n      },\n      data() {\n        return {\n          keywordSelectShow : false,\n          //  选择临时表\n          keywordListSelectedTemp: [],\n          keywordSearchWord:'',\n          keywordListTableCurrentPage: 1,\n          keywordListTableTotalPage: 1,\n          keywordListTotalRecord: 0,\n          keywordListTablePageSize: Configs.system.query.pageSize + 0,\n          keywordListTableLoading: false,\n          keywordListTableInit: true,\n        }\n      },\n      methods:{\n        //  Keyword选择弹框初始化\n        dialogKeywordShowHandle: function () {\n          console.log('test');\n          let vm = this;\n          if (!!vm.keywordListTableInit) {\n            vm.dialogKeywordGetHandle(vm.keywordListTablePageFilter, vm.inputSearchWordFilter)\n          }\n          // vm.keywordListTableInit = false;\n        },\n        //  Keyword获取处理\n        dialogKeywordGetHandle: async function (form = {}, filter = []) {\n          console.log('dialogKeywordGetHandle');\n          let vm = this;\n          vm.dialogKeywordSelectShow = true;\n          vm.keywordListTableLoading = true;\n          await ChartApi.statamazonkeyword(vm.propGetKeywordUrl, form, filter).then(response => {\n            vm.$store.dispatch('updateKeywordListData', response.data);\n            // vm.keywordListTable = [...response.data];\n            if (response.tp < 1) {\n              // vm.keywordListTable = [];\n              vm.$store.dispatch('updateKeywordListData', [])\n            }\n            vm.keywordListTotalRecord = !!response.tr ? response.tr : 0;\n            vm.keywordListTableTotalPage = response.tp;\n            vm.keywordListTableLoading = false;\n          }).catch(err => {\n            vm.$message.error(err.message || vm.$i18n.t('操作失败'));\n            vm.keywordListTableLoading = false;\n          });\n        },\n        //  单击选中SKu row\n        dialogTableCheckSelect: function (row, col, event) {\n          console.log(row);\n          let vm = this;\n          vm.dialogKeywordListTableRowSelectedHandle(vm.$refs.multipleTable.selection, row)\n        },\n        //  Keyword List Table 选择区域变更\n        dialogKeywordListTableSelectionChange(val) {\n          let vm = this;\n          console.log('补勾选keyword');\n          //  根据已选择的keyword勾选左侧keyword\n          vm.totalSelectKeywordItems.forEach(item => {\n            for (let index in vm.keywordListTable) {\n              let row = vm.keywordListTable[index];\n              console.log(row);\n              if (item.id == row.id) {\n                vm.$refs.multipleTable.toggleRowSelection(item, true)\n                vm.$refs.multipleTable.toggleRowSelection(row, true)\n              }\n            }\n          })\n        },\n        //  勾选左侧keyword table\n        dialogKeywordListTableRowSelectedHandle(selection, row) {\n          let vm = this;\n          let rowExist = vm.keywordListSelectedTemp.filter(val => row.id == val.id);\n\n          if (rowExist.length < 1) {\n            console.log('没有重复就加入', rowExist.length < 1, rowExist);\n            if (vm.keywordListSelectedTemp.length < vm.propMaxSelect) {\n              let temp = vm.keywordListSelectedTemp;\n              temp.push(row);\n              vm.$refs.multipleTable.toggleRowSelection(row, true);\n            } else {\n              vm.$message.warning(`可选择的SKU不可超过${vm.propMaxSelect}个`);\n              vm.$refs.multipleTable.toggleRowSelection(row, false);\n              return false;\n            }\n          } else {\n            vm.keywordListSelectedTemp.splice(vm.keywordListSelectedTemp.indexOf(row), 1);\n            vm.$refs.multipleTable.toggleRowSelection(row, false)\n\n            console.log('重复了就去掉', rowExist.length > 0, rowExist);\n          }\n        },\n        //  keyword 弹出框 cancel\n        dialogKeywordSelectCancelHandle: function () {\n          let vm = this;\n          // vm.keywordListSelected = [];\n          vm.$store.dispatch('updateKeywordSelectedListData', []);\n          vm.dialogKeywordSelectShow = false;\n        },\n        //  keyword 弹出框 submit\n        dialogKeywordSelectSubmitHandle: function () {\n          let vm = this;\n          if (vm.totalSelectKeywordItems.length > 20) {\n            vm.$message.warning('选择的SKU超过20个');\n            return false;\n          }\n          vm.keywordSearchWord = '';\n          vm.keywordListTableCurrentPage = 1;\n          // vm.keywordListData = [...vm.totalSelectKeywordItems];\n          vm.$store.dispatch('updateKeywordSelectedListData', [...vm.totalSelectKeywordItems]);\n          vm.keywordListSelectedTemp = [];\n          vm.keywordSelectShow = false;\n\n          //将子totalSelectKeywordItems赋值到父totalSelectKeywordItems\n          vm.$parent.totalSelectKeywordItems = vm.totalSelectKeywordItems;\n        },\n\n        /**\n         * 关键字搜索\n         * @param val\n         * @returns {Promise<void>}\n         */\n        keywordSearchHandle: async function (val) {\n          let vm = this;\n          vm.keywordListTableCurrentPage = 1;\n          vm.dialogKeywordGetHandle(vm.keywordListTablePageFilter, vm.inputSearchWordFilter)\n        },\n\n        dialogKeywordFilterFunc: function (value, row, col) {\n          console.log(value, '123');\n        },\n\n        keywordListTablePageChangeHandle: function (cp) {\n          console.log(cp);\n          let vm = this;\n          vm.keywordListTableCurrentPage = cp;\n          vm.dialogKeywordGetHandle(vm.keywordListTablePageFilter, vm.inputSearchWordFilter)\n        },\n      },\n      computed :{\n        keywordListSelected: vm => vm.$store.getters.getFilterKeywordSelectData,\n        keywordListData: vm => vm.$store.getters.getFilterKeywordData,\n\n        chartType: function () {\n          let vm = this;\n          vm.$store.dispatch('updatePageSeries', vm.$route.meta.series);\n          return vm.$route.meta.series;\n        },\n        //  远程关键字搜索filter\n        inputSearchWordFilter: function () {\n          let vm = this;\n          let _queryParams = [];\n          vm.keywordListTableCurrentPage = 1;\n          if (!!vm.keywordSearchWord) {\n            _queryParams.push([{\"title-ilk\": vm.keywordSearchWord}]);\n          }\n          return _queryParams;\n        },\n        //  keyword表分页filter\n        keywordListTablePageFilter: function () {\n          let vm = this;\n          return {page: vm.keywordListTableCurrentPage, size: vm.keywordListTablePageSize || Configs.system.query.pageSize};\n        },\n        keywordListTableFiltered: function () {\n          let vm = this;\n          let res = !!vm.keywordSearch ? vm.keywordListTable.filter(item => item.keyword.match(new RegExp(vm.keywordSearch, 'i'))) : vm.keywordListTable;\n          return res;\n        },\n\n        totalSelectKeywordItems: function () {\n          let vm = this, _keywordList;\n\n          _keywordList = vm.keywordListSelectedTemp.filter(item => {\n            let _repeated;\n            for (let index in vm.keywordListSelected) {\n              _repeated = vm.keywordListSelected[index]['id'] == item['id'];\n              if (_repeated == true) {\n                break;\n              } else {\n                _repeated = false\n              }\n            }\n            return !_repeated\n          });\n\n          console.log('去重选择列表', _keywordList);\n\n          return _keywordList.concat(vm.keywordListSelected);\n        },\n\n        beforeClose: function(){\n          this.$emit('closeMe', this.keywordSelectShow)\n        }\n      },\n      watch: {\n        propKeywordSelectShow (val){\n          this.keywordSelectShow = val;//新增加的propKeywordSelectShow，监变更并同步到keywordSelectShow\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/chartPage/components/keywordDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"Keyword 选择\",\"visible\":_vm.keywordSelectShow,\"modal\":true,\"top\":\"5vh\",\"append-to-body\":true,\"close-on-click-modal\":false,\"before-close\":_vm.beforeClose},on:{\"update:visible\":function($event){_vm.keywordSelectShow=$event},\"opened\":_vm.dialogKeywordShowHandle}},[_c('el-row',{staticStyle:{\"height\":\"70vh\",\"z-index\":\"2048\"},attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"输入Keyword进行搜索\",\"size\":\"mini\"},model:{value:(_vm.keywordSearchWord),callback:function ($$v) {_vm.keywordSearchWord=$$v},expression:\"keywordSearchWord\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"primary\",\"icon\":\"el-icon-third  el-icon-search\"},on:{\"click\":_vm.keywordSearchHandle},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.keywordListTableLoading),expression:\"keywordListTableLoading\"}],ref:\"multipleTable\",staticClass:\"compact\",staticStyle:{\"width\":\"100%\",\"margin-top\":\".5em\",\"min-height\":\"400px\",\"max-height\":\"500px\"},attrs:{\"data\":_vm.keywordListData,\"max-height\":\"500\",\"select-on-indeterminate\":false,\"header-row-style\":{height:'32px'}},on:{\"select\":_vm.dialogKeywordListTableRowSelectedHandle,\"row-click\":_vm.dialogTableCheckSelect}},[_c('el-table-column',{staticClass:\"table-column\",attrs:{\"type\":\"selection\",\"width\":\"55\"},on:{\"filter-method\":_vm.dialogKeywordFilterFunc}}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-column\",attrs:{\"prop\":\"id\",\"label\":\"Id\"}}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-column\",attrs:{\"prop\":\"title\",\"label\":\"Title\"}})],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"5px 0 0 0\"}},[_c('el-col',{attrs:{\"align\":\"center\"}},[_c('el-pagination',{attrs:{\"small\":\"\",\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"page-count\":_vm.keywordListTableTotalPage,\"current-page\":_vm.keywordListTableCurrentPage},on:{\"update:currentPage\":function($event){_vm.keywordListTableCurrentPage=$event},\"update:current-page\":function($event){_vm.keywordListTableCurrentPage=$event},\"current-change\":_vm.keywordListTablePageChangeHandle}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.keywordListTableLoading),expression:\"keywordListTableLoading\"}],staticClass:\"compact\",staticStyle:{\"width\":\"100%\",\"margin-top\":\".5em\",\"min-height\":\"400px\",\"max-height\":\"500px\"},attrs:{\"data\":_vm.keywordListSelectedTemp,\"max-height\":\"600\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"Selected Keyword\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\",\"align\":\"center\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.dialogKeywordSelectCancelHandle}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.dialogKeywordSelectSubmitHandle}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ebda8ee0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/chartPage/components/keywordDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ebda8ee0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./keywordDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./keywordDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./keywordDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ebda8ee0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./keywordDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ebda8ee0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chartPage/components/keywordDialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}