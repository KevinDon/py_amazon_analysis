{"version":3,"sources":["webpack:///src/pages/chartPage/components/productDialog.vue","webpack:///./src/pages/chartPage/components/productDialog.vue?9005","webpack:///./src/pages/chartPage/components/productDialog.vue"],"names":["productDialog","name","props","propGetSkuUrl","getDailyReportUrl","getMonthlyReportUrl","getWeeklyReportUrl","propProductSelectShow","default","propMaxSelect","data","productSelectShow","skuListSelectedTemp","skuSearchWord","skuListTableCurrentPage","skuListTableTotalPage","skuListTotalRecord","skuListTablePageSize","sysConfig","system","query","pageSize","skuListTableLoading","skuListTableInit","methods","dialogSkuShowHandle","this","dialogSkuGetHandle","skuListTablePageFilter","inputSearchWordFilter","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","vm","form","arguments","length","undefined","filter","wrap","_context","prev","next","console","log","dialogSkuSelectShow","chartApiHandler","statamazonsku","then","response","$store","dispatch","tp","tr","catch","err","$message","error","message","$i18n","t","stop","apply","dialogTableCheckSelect","row","col","event","dialogSkuListTableRowSelectedHandle","$refs","multipleTable","selection","dialogSkuListTableSelectionChange","val","totalSelectSkuItems","forEach","item","index","skuListTable","id","toggleRowSelection","rowExist","warning","push","splice","indexOf","dialogSkuSelectCancelHandle","dialogSkuSelectSubmitHandle","concat","toConsumableArray_default","$parent","skuSearchHandle","_ref2","_callee2","_context2","_x3","dialogSkuFilterFunc","value","skuListTablePageChangeHandle","cp","computed","skuListSelected","getters","getFilterSkuSelectData","skuListData","getFilterSkuData","chartType","$route","meta","series","_queryParams","sku-ilk","asin-ilk","page","size","skuListTableFiltered","skuSearch","sku","match","RegExp","_skuList","_repeated","beforeClose","$emit","watch","components_productDialog","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","modal","top","append-to-body","close-on-click-modal","before-close","on","update:visible","$event","opened","staticStyle","height","z-index","gutter","span","staticClass","placeholder","model","callback","$$v","expression","slot","type","icon","click","_v","directives","rawName","ref","width","margin-top","min-height","max-height","select-on-indeterminate","header-row-style","select","row-click","filter-method","prop","label","margin","align","small","background","layout","page-count","current-page","update:currentPage","update:current-page","current-change","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/front/js/4.js","sourcesContent":["<template>\n  <el-dialog title=\"SKU 选择\" v-if=\"chartType == 'sku'\" :visible.sync=\"productSelectShow\" :modal=\"true\" top=\"5vh\"\n             :append-to-body=\"true\"\n             :close-on-click-modal=\"false\"\n             @opened=\"dialogSkuShowHandle\"\n            :before-close=\"beforeClose\">\n    <el-row :gutter=\"24\" style=\"height: 70vh;z-index:2048\">\n      <!--搜索栏-->\n      <el-col :span=\"14\">\n        <el-input placeholder=\"输入SKU或ASIN进行搜索\" v-model=\"skuSearchWord\"\n                  class=\"input-with-select\"\n                  size=\"mini\">\n          <el-button slot=\"append\" type=\"primary\" icon=\"el-icon-third  el-icon-search\"\n                     @click=\"skuSearchHandle\"></el-button>\n        </el-input>\n      </el-col>\n      <el-col :span=\"14\">\n\n        <el-table\n          class=\"compact\"\n          ref=\"multipleTable\"\n          v-loading=\"skuListTableLoading\"\n          :data=\"skuListData\"\n          style=\"width: 100%;margin-top:.5em;min-height: 400px;max-height: 500px;\"\n          max-height=\"500\"\n          :select-on-indeterminate=\"false\"\n          :header-row-style=\"{height:'32px'}\"\n          @select=\"dialogSkuListTableRowSelectedHandle\"\n          @row-click=\"dialogTableCheckSelect\"\n        >\n          <el-table-column\n            class=\"table-column\"\n            type=\"selection\"\n            @filter-method=\"dialogSkuFilterFunc\"\n            width=\"55\">\n          </el-table-column>\n          <el-table-column\n            class=\"table-column\"\n            prop=\"sku\"\n            label=\"SKU\">\n          </el-table-column>\n          <el-table-column\n            class=\"table-column\"\n            prop=\"asin\"\n            label=\"ASIN\"\n            width=\"150\">\n          </el-table-column>\n        </el-table>\n        <el-row style=\"margin: 5px 0 0 0\">\n          <el-col align=\"center\">\n            <el-pagination\n              small\n              background\n              layout=\"total, prev, pager, next, jumper\"\n\n              :page-count=\"skuListTableTotalPage\"\n              :current-page.sync=\"skuListTableCurrentPage\"\n              @current-change=\"skuListTablePageChangeHandle\">\n            </el-pagination>\n          </el-col>\n        </el-row>\n\n      </el-col>\n      <el-col :span=\"10\">\n        <el-table\n          class=\"compact\"\n          v-loading=\"skuListTableLoading\"\n          :data=\"skuListSelectedTemp\"\n          style=\"width: 100%;margin-top:.5em;min-height: 400px;max-height: 500px;\"\n          max-height=\"600\">\n          <el-table-column\n            prop=\"sku\"\n            label=\"Selected SKU\">\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n    <div slot=\"footer\" class=\"dialog-footer\" align=\"center\">\n      <el-button @click=\"dialogSkuSelectCancelHandle\" size=\"mini\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"dialogSkuSelectSubmitHandle\" size=\"mini\">确 定</el-button>\n    </div>\n  </el-dialog>\n\n</template>\n\n<script>\n  import Configs from '@/lib/sysConfig';\n  import ChartApi from '@/pages/chartPage/lib/chartApiHandler.js';\n\n  export default {\n        name: \"productDialog\",\n        props: {\n          propGetSkuUrl: '',\n          getDailyReportUrl: '',\n          getMonthlyReportUrl: '',\n          getWeeklyReportUrl: '',\n          propProductSelectShow : {\n            default :false\n          },\n          propMaxSelect: {\n            default: 20\n          }\n        },\n        data() {\n          return {\n            productSelectShow : false,\n            //  选择临时表\n            skuListSelectedTemp: [],\n            skuSearchWord:'',\n            skuListTableCurrentPage: 1,\n            skuListTableTotalPage: 1,\n            skuListTotalRecord: 0,\n            skuListTablePageSize: Configs.system.query.pageSize + 0,\n            skuListTableLoading: false,\n            skuListTableInit: true,\n          }\n        },\n        methods:{\n          //  Sku选择弹框初始化\n          dialogSkuShowHandle: function () {\n            let vm = this;\n            if (!!vm.skuListTableInit) {\n              vm.dialogSkuGetHandle(vm.skuListTablePageFilter, vm.inputSearchWordFilter)\n            }\n            // vm.skuListTableInit = false;\n          },\n          //  Sku获取处理\n          dialogSkuGetHandle: async function (form = {}, filter = []) {\n            console.log('dialogSkuGetHandle');\n            let vm = this;\n            vm.dialogSkuSelectShow = true;\n            vm.skuListTableLoading = true;\n            await ChartApi.statamazonsku(vm.propGetSkuUrl, form, filter).then(response => {\n              vm.$store.dispatch('updateSkuListData', response.data);\n              // vm.skuListTable = [...response.data];\n              if (response.tp < 1) {\n                // vm.skuListTable = [];\n                vm.$store.dispatch('updateSkuListData', [])\n              }\n              vm.skuListTotalRecord = !!response.tr ? response.tr : 0;\n              vm.skuListTableTotalPage = response.tp;\n              vm.skuListTableLoading = false;\n            }).catch(err => {\n              vm.$message.error(err.message || vm.$i18n.t('操作失败'));\n              vm.skuListTableLoading = false;\n            });\n          },\n          //  单击选中SKu row\n          dialogTableCheckSelect: function (row, col, event) {\n            console.log(row);\n            let vm = this;\n            vm.dialogSkuListTableRowSelectedHandle(vm.$refs.multipleTable.selection, row)\n          },\n          //  Sku List Table 选择区域变更\n          dialogSkuListTableSelectionChange(val) {\n            let vm = this;\n            console.log('补勾选sku');\n            //  根据已选择的sku勾选左侧sku\n            vm.totalSelectSkuItems.forEach(item => {\n              for (let index in vm.skuListTable) {\n                let row = vm.skuListTable[index];\n                console.log(row);\n                if (item.id == row.id) {\n                  vm.$refs.multipleTable.toggleRowSelection(item, true)\n                  vm.$refs.multipleTable.toggleRowSelection(row, true)\n                }\n              }\n            })\n          },\n          //  勾选左侧sku table\n          dialogSkuListTableRowSelectedHandle(selection, row) {\n            let vm = this;\n            let rowExist = vm.skuListSelectedTemp.filter(val => row.id == val.id);\n\n            if (rowExist.length < 1) {\n              console.log('没有重复就加入', rowExist.length < 1, rowExist);\n              if (vm.skuListSelectedTemp.length < vm.propMaxSelect) {\n                let temp = vm.skuListSelectedTemp;\n                temp.push(row);\n                vm.$refs.multipleTable.toggleRowSelection(row, true);\n              } else {\n                vm.$message.warning(`可选择的SKU不可超过${vm.propMaxSelect}个`);\n                vm.$refs.multipleTable.toggleRowSelection(row, false);\n                return false;\n              }\n            } else {\n              vm.skuListSelectedTemp.splice(vm.skuListSelectedTemp.indexOf(row), 1);\n              vm.$refs.multipleTable.toggleRowSelection(row, false)\n\n              console.log('重复了就去掉', rowExist.length > 0, rowExist);\n            }\n          },\n          //  sku 弹出框 cancel\n          dialogSkuSelectCancelHandle: function () {\n            let vm = this;\n            // vm.skuListSelected = [];\n            vm.$store.dispatch('updateSkuSelectedListData', []);\n            vm.dialogSkuSelectShow = false;\n          },\n          //  sku 弹出框 submit\n          dialogSkuSelectSubmitHandle: function () {\n            let vm = this;\n            if (vm.totalSelectSkuItems.length > 20) {\n              vm.$message.warning('选择的SKU超过20个');\n              return false;\n            }\n            vm.skuSearchWord = '';\n            vm.skuListTableCurrentPage = 1;\n            // vm.skuListData = [...vm.totalSelectSkuItems];\n            vm.$store.dispatch('updateSkuSelectedListData', [...vm.totalSelectSkuItems]);\n            vm.skuListSelectedTemp = [];\n            vm.productSelectShow = false;\n\n            //将子totalSelectSkuItems赋值到父totalSelectSkuItems\n            vm.$parent.totalSelectSkuItems = vm.totalSelectSkuItems;\n          },\n\n          /**\n           * 关键字搜索\n           * @param val\n           * @returns {Promise<void>}\n           */\n          skuSearchHandle: async function (val) {\n            let vm = this;\n            vm.skuListTableCurrentPage = 1;\n            vm.dialogSkuGetHandle(vm.skuListTablePageFilter, vm.inputSearchWordFilter)\n          },\n\n          dialogSkuFilterFunc: function (value, row, col) {\n            console.log(value, '123');\n          },\n\n          skuListTablePageChangeHandle: function (cp) {\n            console.log(cp);\n            let vm = this;\n            vm.skuListTableCurrentPage = cp;\n            vm.dialogSkuGetHandle(vm.skuListTablePageFilter, vm.inputSearchWordFilter)\n          },\n        },\n        computed :{\n          skuListSelected: vm => vm.$store.getters.getFilterSkuSelectData,\n          skuListData: vm => vm.$store.getters.getFilterSkuData,\n\n          chartType: function () {\n            let vm = this;\n            vm.$store.dispatch('updatePageSeries', vm.$route.meta.series);\n            return vm.$route.meta.series;\n          },\n          //  远程关键字搜索filter\n          inputSearchWordFilter: function () {\n            let vm = this;\n            let _queryParams = [];\n            vm.skuListTableCurrentPage = 1;\n            if (!!vm.skuSearchWord) {\n              _queryParams.push([{\"sku-ilk\": vm.skuSearchWord}, {\"asin-ilk\": vm.skuSearchWord}]);\n            }\n            return _queryParams;\n          },\n          //  sku表分页filter\n          skuListTablePageFilter: function () {\n            let vm = this;\n            return {page: vm.skuListTableCurrentPage, size: vm.skuListTablePageSize || Configs.system.query.pageSize};\n          },\n          skuListTableFiltered: function () {\n            let vm = this;\n            let res = !!vm.skuSearch ? vm.skuListTable.filter(item => item.sku.match(new RegExp(vm.skuSearch, 'i'))) : vm.skuListTable;\n            return res;\n          },\n\n          totalSelectSkuItems: function () {\n            let vm = this, _skuList;\n\n            _skuList = vm.skuListSelectedTemp.filter(item => {\n              let _repeated;\n              for (let index in vm.skuListSelected) {\n                _repeated = vm.skuListSelected[index]['id'] == item['id'];\n                if (_repeated == true) {\n                  break;\n                } else {\n                  _repeated = false\n                }\n              }\n              return !_repeated\n            });\n\n            console.log('去重选择列表', _skuList);\n\n            return _skuList.concat(vm.skuListSelected);\n          },\n\n          beforeClose: function(){\n            this.$emit('closeMe', this.productSelectShow)\n          }\n        },\n        watch: {\n          propProductSelectShow (val){\n            this.productSelectShow = val;//新增加的propProductSelectShow，监变更并同步到productSelectShow\n          }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/chartPage/components/productDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.chartType == 'sku')?_c('el-dialog',{attrs:{\"title\":\"SKU 选择\",\"visible\":_vm.productSelectShow,\"modal\":true,\"top\":\"5vh\",\"append-to-body\":true,\"close-on-click-modal\":false,\"before-close\":_vm.beforeClose},on:{\"update:visible\":function($event){_vm.productSelectShow=$event},\"opened\":_vm.dialogSkuShowHandle}},[_c('el-row',{staticStyle:{\"height\":\"70vh\",\"z-index\":\"2048\"},attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"输入SKU或ASIN进行搜索\",\"size\":\"mini\"},model:{value:(_vm.skuSearchWord),callback:function ($$v) {_vm.skuSearchWord=$$v},expression:\"skuSearchWord\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"primary\",\"icon\":\"el-icon-third  el-icon-search\"},on:{\"click\":_vm.skuSearchHandle},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.skuListTableLoading),expression:\"skuListTableLoading\"}],ref:\"multipleTable\",staticClass:\"compact\",staticStyle:{\"width\":\"100%\",\"margin-top\":\".5em\",\"min-height\":\"400px\",\"max-height\":\"500px\"},attrs:{\"data\":_vm.skuListData,\"max-height\":\"500\",\"select-on-indeterminate\":false,\"header-row-style\":{height:'32px'}},on:{\"select\":_vm.dialogSkuListTableRowSelectedHandle,\"row-click\":_vm.dialogTableCheckSelect}},[_c('el-table-column',{staticClass:\"table-column\",attrs:{\"type\":\"selection\",\"width\":\"55\"},on:{\"filter-method\":_vm.dialogSkuFilterFunc}}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-column\",attrs:{\"prop\":\"sku\",\"label\":\"SKU\"}}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-column\",attrs:{\"prop\":\"asin\",\"label\":\"ASIN\",\"width\":\"150\"}})],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"5px 0 0 0\"}},[_c('el-col',{attrs:{\"align\":\"center\"}},[_c('el-pagination',{attrs:{\"small\":\"\",\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"page-count\":_vm.skuListTableTotalPage,\"current-page\":_vm.skuListTableCurrentPage},on:{\"update:currentPage\":function($event){_vm.skuListTableCurrentPage=$event},\"update:current-page\":function($event){_vm.skuListTableCurrentPage=$event},\"current-change\":_vm.skuListTablePageChangeHandle}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.skuListTableLoading),expression:\"skuListTableLoading\"}],staticClass:\"compact\",staticStyle:{\"width\":\"100%\",\"margin-top\":\".5em\",\"min-height\":\"400px\",\"max-height\":\"500px\"},attrs:{\"data\":_vm.skuListSelectedTemp,\"max-height\":\"600\"}},[_c('el-table-column',{attrs:{\"prop\":\"sku\",\"label\":\"Selected SKU\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\",\"align\":\"center\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.dialogSkuSelectCancelHandle}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.dialogSkuSelectSubmitHandle}},[_vm._v(\"确 定\")])],1)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ca188a9a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/chartPage/components/productDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca188a9a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./productDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ca188a9a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./productDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ca188a9a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chartPage/components/productDialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}