{"version":3,"sources":["webpack:///src/pages/chartPage/components/categoryDialog.vue","webpack:///./src/pages/chartPage/components/categoryDialog.vue?44c0","webpack:///./src/pages/chartPage/components/categoryDialog.vue"],"names":["categoryDialog","name","props","propGetCategoryUrl","getDailyReportUrl","getMonthlyReportUrl","getWeeklyReportUrl","propCategorySelectShow","default","data","propMaxSelect","categorySelectShow","categoryListSelectedTemp","categorySearchWord","categoryListTableCurrentPage","categoryListTableTotalPage","categoryListTotalRecord","categoryListTablePageSize","sysConfig","system","query","pageSize","categoryListTableLoading","categoryListTableInit","methods","dialogCategoryShowHandle","this","dialogCategoryGetHandle","categoryListTablePageFilter","inputSearchWordFilter","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","vm","form","arguments","length","undefined","filter","wrap","_context","prev","next","console","log","dialogSkuSelectShow","chartApiHandler","statamazoncategory","then","response","$store","dispatch","tp","tr","catch","err","$message","error","message","$i18n","t","stop","apply","dialogTableCheckSelect","row","col","event","dialogCategoryListTableRowSelectedHandle","$refs","multipleTable","selection","rowExist","val","id","warning","toggleRowSelection","push","splice","indexOf","dialogCategorySelectCancelHandle","dialogCategorySelectSubmitHandle","totalSelectCategoryItems","concat","toConsumableArray_default","$parent","categorySearchHandle","_ref2","_callee2","_context2","skuListTableCurrentPage","_x3","dialogCategoryFilterFunc","value","categoryListTablePageChangeHandle","cp","computed","categoryListSelected","getters","getFilterCategorySelectData","categoryListData","getFilterCategoryData","chartType","$route","meta","series","_queryParams","title-ilk","code-ilk","page","size","skuListTablePageSize","categoryListTableFiltered","skuSearch","skuListTable","item","sku","match","RegExp","_skuList","_repeated","index","beforeClose","$emit","watch","components_categoryDialog","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","modal","top","append-to-body","before-close","on","update:visible","$event","opened","staticStyle","height","z-index","gutter","span","staticClass","placeholder","model","callback","$$v","expression","slot","type","icon","click","_v","directives","rawName","ref","width","margin-top","min-height","max-height","select-on-indeterminate","header-row-style","select","row-click","filter-method","prop","label","margin","align","small","background","layout","page-count","current-page","update:currentPage","update:current-page","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/front/js/6.js","sourcesContent":["\n<template>\n  <el-dialog title=\"Category 选择\" :visible.sync=\"categorySelectShow\" :modal=\"true\" top=\"5vh\" :append-to-body=\"true\" @opened=\"dialogCategoryShowHandle\"  :before-close=\"beforeClose\">\n\n    <el-row :gutter=\"24\" style=\"height: 70vh;z-index:2048\">\n      <!--搜索栏-->\n      <el-col :span=\"14\">\n        <el-input placeholder=\"输入Category进行搜索\" v-model=\"categorySearchWord\"\n                  class=\"input-with-select\"\n                  size=\"mini\">\n          <el-button slot=\"append\" type=\"primary\" icon=\"el-icon-third  el-icon-search\"\n                     @click=\"categorySearchHandle\"></el-button>\n        </el-input>\n      </el-col>\n      <el-col :span=\"14\">\n\n        <el-table\n          class=\"compact\"\n          ref=\"multipleTable\"\n          v-loading=\"categoryListTableLoading\"\n          :data=\"categoryListData\"\n          style=\"width: 100%;margin-top:.5em;min-height: 400px;max-height: 500px;\"\n          max-height=\"500\"\n          :select-on-indeterminate=\"false\"\n          :header-row-style=\"{height:'32px'}\"\n          @select=\"dialogCategoryListTableRowSelectedHandle\"\n          @row-click=\"dialogTableCheckSelect\"\n        >\n          <el-table-column\n            class=\"table-column\"\n            type=\"selection\"\n            @filter-method=\"dialogCategoryFilterFunc\"\n            width=\"55\">\n          </el-table-column>\n          <el-table-column\n            class=\"table-column\"\n            prop=\"id\"\n            label=\"Id\">\n          </el-table-column>\n          <el-table-column\n            class=\"table-column\"\n            prop=\"title\"\n            label=\"Category\"\n            width=\"150\">\n          </el-table-column>\n          <el-table-column\n            class=\"table-column\"\n            prop=\"code\"\n            label=\"Node Code\"\n            width=\"150\">\n          </el-table-column>\n        </el-table>\n        <el-row style=\"margin: 5px 0 0 0\">\n          <el-col align=\"center\">\n            <el-pagination\n              small\n              background\n              layout=\"total, prev, pager, next, jumper\"\n\n              :page-count=\"categoryListTableTotalPage\"\n              :current-page.sync=\"categoryListTableCurrentPage\"\n              @current-change=\"categoryListTablePageChangeHandle\">\n            </el-pagination>\n          </el-col>\n        </el-row>\n\n      </el-col>\n      <el-col :span=\"10\">\n        <el-table\n          class=\"compact\"\n          v-loading=\"categoryListTableLoading\"\n          :data=\"categoryListSelectedTemp\"\n          style=\"width: 100%;margin-top:.5em;min-height: 400px;max-height: 500px;\"\n          max-height=\"600\">\n          <el-table-column\n            prop=\"title\"\n            label=\"Selected Category\">\n          </el-table-column>\n          <el-table-column\n            prop=\"code\"\n            label=\"Node Code\">\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n    <div slot=\"footer\" class=\"dialog-footer\" align=\"center\">\n      <el-button @click=\"dialogCategorySelectCancelHandle\" size=\"mini\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"dialogCategorySelectSubmitHandle\" size=\"mini\">确 定</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\n  import Configs from '@/lib/sysConfig';\n  import ChartApi from '@/pages/chartPage/lib/chartApiHandler.js';\n\n  export default {\n        name: \"categoryDialog\",\n        props: {\n          propGetCategoryUrl: '',\n          getDailyReportUrl: '',\n          getMonthlyReportUrl: '',\n          getWeeklyReportUrl: '',\n          propCategorySelectShow: {\n            default: false\n          },\n        },\n      data() {\n        return {\n          propMaxSelect:20,\n          categorySelectShow : false,\n          //  选择临时表\n          categoryListSelectedTemp: [],\n          categorySearchWord:'',\n          categoryListTableCurrentPage: 1,\n          categoryListTableTotalPage: 1,\n          categoryListTotalRecord: 0,\n          categoryListTablePageSize: Configs.system.query.pageSize + 0,\n          categoryListTableLoading: false,\n          categoryListTableInit: true,\n        }\n      },\n      methods:{\n        // category选择弹框初始化\n        dialogCategoryShowHandle: function () {\n          let vm = this;\n          if (!!vm.categoryListTableInit) {\n            vm.dialogCategoryGetHandle(vm.categoryListTablePageFilter, vm.inputSearchWordFilter)\n          }\n          // vm.categoryListTableInit = false;\n        },\n        //  category获取处理\n        dialogCategoryGetHandle: async function (form = {}, filter = []) {\n          console.log('dialogCategoryGetHandle');\n          let vm = this;\n          vm.dialogSkuSelectShow = true;\n          vm.categoryListTableLoading = true;\n          await ChartApi.statamazoncategory(vm.propGetCategoryUrl, form, filter).then(response => {\n            vm.$store.dispatch('updateCategoryListData', response.data);\n            // vm.skuListTable = [...response.data];\n            if (response.tp < 1) {\n              // vm.skuListTable = [];\n              vm.$store.dispatch('updateCategoryListData', [])\n            }\n            vm.categoryListTotalRecord = !!response.tr ? response.tr : 0;\n            vm.categoryListTableTotalPage = response.tp;\n            vm.categoryListTableLoading = false;\n          }).catch(err => {\n            vm.$message.error(err.message || vm.$i18n.t('操作失败'));\n            vm.categoryListTableLoading = false;\n          });\n        },\n        //  单击选中SKu row\n        dialogTableCheckSelect: function (row, col, event) {\n          console.log(row);\n          let vm = this;\n          vm.dialogCategoryListTableRowSelectedHandle(vm.$refs.multipleTable.selection, row)\n        },\n\n        //  勾选左侧sku table\n        dialogCategoryListTableRowSelectedHandle(selection, row) {\n          let vm = this;\n          let rowExist = vm.categoryListSelectedTemp.filter(val => row.id == val.id);\n\n          if (rowExist.length < 1) {\n            console.log('没有重复就加入', rowExist.length < 1, rowExist);\n            if (vm.categoryListSelectedTemp.length < vm.propMaxSelect) {\n              let temp = vm.categoryListSelectedTemp;\n              temp.push(row);\n              vm.$refs.multipleTable.toggleRowSelection(row, true);\n            } else {\n              vm.$message.warning(`可选择的Category不可超过${vm.propMaxSelect}个`);\n              vm.$refs.multipleTable.toggleRowSelection(row, false);\n              return false;\n            }\n          } else {\n            vm.categoryListSelectedTemp.splice(vm.categoryListSelectedTemp.indexOf(row), 1);\n            vm.$refs.multipleTable.toggleRowSelection(row, false)\n\n            console.log('重复了就去掉', rowExist.length > 0, rowExist);\n          }\n        },\n        //  Category 弹出框 cancel\n        dialogCategorySelectCancelHandle: function () {\n          let vm = this;\n          // vm.skuListSelected = [];\n          vm.$store.dispatch('updateCategorySelectedListData', []);\n          vm.categorySelectShow = false;\n        },\n        //  Category 弹出框 submit\n        dialogCategorySelectSubmitHandle: function () {\n          let vm = this;\n          if (vm.totalSelectCategoryItems.length > 20) {\n            vm.$message.warning('选择的SKU超过20个');\n            return false;\n          }\n          vm.categorySearchWord = '';\n          vm.categoryListTableCurrentPage = 1;\n          // vm.skuListData = [...vm.totalSelectCategoryItems];\n          vm.$store.dispatch('updateCategorySelectedListData', [...vm.totalSelectCategoryItems]);\n          vm.categoryListSelectedTemp = [];\n          vm.categorySelectShow = false;\n\n          //将子totalSelectCategoryItems赋值到父totalSelectCategoryItems\n          vm.$parent.totalSelectCategoryItems = vm.totalSelectCategoryItems;\n        },\n\n        /**\n         * 关键字搜索\n         * @param val\n         * @returns {Promise<void>}\n         */\n        categorySearchHandle: async function (val) {\n          let vm = this;\n          vm.skuListTableCurrentPage = 1;\n          vm.dialogCategoryGetHandle(vm.categoryListTablePageFilter, vm.inputSearchWordFilter)\n        },\n\n        dialogCategoryFilterFunc: function (value, row, col) {\n          console.log(value, '123');\n        },\n\n        categoryListTablePageChangeHandle: function (cp) {\n          console.log(cp);\n          let vm = this;\n          vm.skuListTableCurrentPage = cp;\n          vm.dialogCategoryGetHandle(vm.categoryListTablePageFilter, vm.inputSearchWordFilter)\n        },\n      },\n      computed :{\n        categoryListSelected: vm => vm.$store.getters.getFilterCategorySelectData,\n        categoryListData: vm => vm.$store.getters.getFilterCategoryData,\n\n        chartType: function () {\n          let vm = this;\n          vm.$store.dispatch('updatePageSeries', vm.$route.meta.series);\n          return vm.$route.meta.series;\n        },\n        //  远程关键字搜索filter\n        inputSearchWordFilter: function () {\n          let vm = this;\n          let _queryParams = [];\n          vm.skuListTableCurrentPage = 1;\n          if (!!vm.categorySearchWord) {\n            _queryParams.push([{\"title-ilk\": vm.categorySearchWord}, {\"code-ilk\": vm.categorySearchWord}]);\n          }\n          return _queryParams;\n        },\n        //  sku表分页filter\n        categoryListTablePageFilter: function () {\n          let vm = this;\n          return {page: vm.skuListTableCurrentPage, size: vm.skuListTablePageSize || Configs.system.query.pageSize};\n        },\n        categoryListTableFiltered: function () {\n          let vm = this;\n          let res = !!vm.skuSearch ? vm.skuListTable.filter(item => item.sku.match(new RegExp(vm.skuSearch, 'i'))) : vm.skuListTable;\n          return res;\n        },\n\n        totalSelectCategoryItems: function () {\n          let vm = this, _skuList;\n\n          _skuList = vm.categoryListSelectedTemp.filter(item => {\n            let _repeated;\n            for (let index in vm.categoryListSelected) {\n              _repeated = vm.categoryListSelected[index]['id'] == item['id'];\n              if (_repeated == true) {\n                break;\n              } else {\n                _repeated = false\n              }\n            }\n            return !_repeated\n          });\n\n          console.log('去重选择列表', _skuList);\n\n          return _skuList.concat(vm.categoryListSelected);\n        },\n\n        beforeClose: function(){\n          this.$emit('closeMe', this.categorySelectShow)\n        }\n      },\n      watch: {\n        propCategorySelectShow (val){\n          this.categorySelectShow = val;//新增加的propCategorySelectShow，监变更并同步到productSelectShow\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/chartPage/components/categoryDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"Category 选择\",\"visible\":_vm.categorySelectShow,\"modal\":true,\"top\":\"5vh\",\"append-to-body\":true,\"before-close\":_vm.beforeClose},on:{\"update:visible\":function($event){_vm.categorySelectShow=$event},\"opened\":_vm.dialogCategoryShowHandle}},[_c('el-row',{staticStyle:{\"height\":\"70vh\",\"z-index\":\"2048\"},attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"输入Category进行搜索\",\"size\":\"mini\"},model:{value:(_vm.categorySearchWord),callback:function ($$v) {_vm.categorySearchWord=$$v},expression:\"categorySearchWord\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"primary\",\"icon\":\"el-icon-third  el-icon-search\"},on:{\"click\":_vm.categorySearchHandle},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.categoryListTableLoading),expression:\"categoryListTableLoading\"}],ref:\"multipleTable\",staticClass:\"compact\",staticStyle:{\"width\":\"100%\",\"margin-top\":\".5em\",\"min-height\":\"400px\",\"max-height\":\"500px\"},attrs:{\"data\":_vm.categoryListData,\"max-height\":\"500\",\"select-on-indeterminate\":false,\"header-row-style\":{height:'32px'}},on:{\"select\":_vm.dialogCategoryListTableRowSelectedHandle,\"row-click\":_vm.dialogTableCheckSelect}},[_c('el-table-column',{staticClass:\"table-column\",attrs:{\"type\":\"selection\",\"width\":\"55\"},on:{\"filter-method\":_vm.dialogCategoryFilterFunc}}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-column\",attrs:{\"prop\":\"id\",\"label\":\"Id\"}}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-column\",attrs:{\"prop\":\"title\",\"label\":\"Category\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-column\",attrs:{\"prop\":\"code\",\"label\":\"Node Code\",\"width\":\"150\"}})],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"5px 0 0 0\"}},[_c('el-col',{attrs:{\"align\":\"center\"}},[_c('el-pagination',{attrs:{\"small\":\"\",\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"page-count\":_vm.categoryListTableTotalPage,\"current-page\":_vm.categoryListTableCurrentPage},on:{\"update:currentPage\":function($event){_vm.categoryListTableCurrentPage=$event},\"update:current-page\":function($event){_vm.categoryListTableCurrentPage=$event},\"current-change\":_vm.categoryListTablePageChangeHandle}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.categoryListTableLoading),expression:\"categoryListTableLoading\"}],staticClass:\"compact\",staticStyle:{\"width\":\"100%\",\"margin-top\":\".5em\",\"min-height\":\"400px\",\"max-height\":\"500px\"},attrs:{\"data\":_vm.categoryListSelectedTemp,\"max-height\":\"600\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"Selected Category\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"code\",\"label\":\"Node Code\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\",\"align\":\"center\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.dialogCategorySelectCancelHandle}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.dialogCategorySelectSubmitHandle}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0bfb5274\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/chartPage/components/categoryDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0bfb5274\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./categoryDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./categoryDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./categoryDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0bfb5274\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./categoryDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0bfb5274\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chartPage/components/categoryDialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}