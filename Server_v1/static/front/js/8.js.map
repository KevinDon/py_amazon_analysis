{"version":3,"sources":["webpack:///src/pages/chartPage/chartLineBuyBoxPerChart.vue","webpack:///./src/pages/chartPage/chartLineBuyBoxPerChart.vue?0861","webpack:///./src/pages/chartPage/chartLineBuyBoxPerChart.vue"],"names":["echarts","__webpack_require__","chartLineBuyBoxPerChart","name","components","sideFilter","e","then","bind","data","chartModes","label","screenWidth","document","body","clientWidth","fullscreenLoading","asideShow","queryForm","dailyChart","monthlyChart","weeklyChart","chartData","chartSelected","mounted","vm","this","init","getElementById","window","onresize","methods","asideToggleHandler","val","console","log","setTimeout","chartDataHandler","chartResizeHandle","filterSubmitHandle","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","form","_params","_filter","_beginDate","_endDate","queryParams","wrap","_context","prev","next","itemSelected","length","forEach","item","undefined","push","line_id-eq","id","dateSelected","showDailyChart","concat","dy-gte-and","dy-lte-and","chartApiHandler","fetchstatamazonlinedaily","order","size","response","daliyChartOptions","lineDailyChangHandle","catch","err","stop","_x","apply","arguments","filterSubmit","_ref2","_callee2","_context2","res","$message","success","$i18n","t","error","_x2","computed","indexOf","watch","timer","chartPage_chartLineBuyBoxPerChart","render","_vm","_h","$createElement","_c","_self","staticClass","class","attrs","icon","circle","on","click","$event","_v","directives","rawName","value","expression","modifiers","fullscreen","lock","getLineUrl","listenFilterSubmit","style","fixShow","sync","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/front/js/8.js","sourcesContent":["<template>\n  <el-container>\n    <el-aside class=\"aside\" :class=\"!!asideShow?'aside-show':'aside-hide'\">\n      <div class=\"aside-toggle-btn\">\n        <el-button icon=\"el-icon-d-arrow-left\" circle size=\"mini\"\n                   v-if=\"!!asideShow\"\n                   v-on:click=\"asideToggleHandler(!asideShow)\">\n\n        </el-button>\n        <el-button icon=\"el-icon-d-arrow-right\" circle size=\"mini\"\n                   v-else\n                   @click=\"asideToggleHandler(!asideShow)\">\n\n        </el-button>\n      </div>\n\n      <side-filter\n        :chartModes=\"chartModes\"\n        getLineUrl=\"/v1/statamazonline/\"\n        @listenFilterSubmit=\"filterSubmit\"\n        v-loading.fullscreen.lock=\"fullscreenLoading\"\n      ></side-filter>\n    </el-aside>\n    <el-container>\n      <el-main id=\"main-box\" :style=\"!!fixShow ? 'margin :0 0 0 270px;' : ''\">\n        <h1>Report List</h1>\n        <div class=\"chart-box\" v-show.sync=\"showDailyChart\">\n          <div class=\"chart\" id=\"chartDaily\"></div>\n        </div>\n        <!--        <div class=\"chart-box\" v-show.sync=\"showMonthlyChart\">-->\n        <!--          <div class=\"chart\" id=\"chartMonthly\"></div>-->\n        <!--        </div>-->\n        <!--        <div class=\"chart-box\" v-show.sync=\"showWeeklyChart\">-->\n        <!--          <div class=\"chart\" id=\"chartWeekly\"></div>-->\n        <!--        </div>-->\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\n  // 引入 ECharts 全模块 todo 日后精简\n  import ChartsApi from \"@/pages/chartPage/lib/chartApiHandler.js\";\n  import ChartDataHandler from './chartDataHandler';\n\n\n  // // 引入 ECharts 主模块\n  // var echarts = require('echarts/lib/echarts');\n  // // 引入线图\n  // require('echarts/lib/chart/line');\n  // // 引入提示框和标题组件\n  // require('echarts/lib/component/legend');\n  // require('echarts/lib/component/grid');\n  // require('echarts/lib/component/tooltip');\n  // require('echarts/lib/component/title');\n  // require('echarts/lib/component/dataZoom');\n\n  const echarts = require('echarts/echarts.all');\n\n  export default {\n    name: \"chartLineBuyBoxPerChart\",\n    components: {\n      sideFilter: () => import('./components/chartLinePageFilters.vue')\n    },\n    data() {\n      return {\n        chartModes: [\n          {label: '日统计表', name: 'chart_daily'},\n          // {label: '月统计表', name: 'chart_monthly'},\n          // {label: '周统计表', name: 'chart_weekly'}\n          ],\n        screenWidth: document.body.clientWidth,\n        fullscreenLoading: false,\n        asideShow: true,\n        queryForm: [],\n        dailyChart: null,\n        monthlyChart: null,\n        weeklyChart: null,\n        chartData: [],\n        chartSelected: ['chart_daily', 'chart_monthly', 'chart_weekly'],\n      }\n    },\n    mounted: function () {\n      let vm = this;\n      vm.dailyChart = echarts.init(document.getElementById('chartDaily'), 'canvas', 'auto', 'auto');\n      // vm.monthlyChart = echarts.init(document.getElementById('chartMonthly'), 'canvas', 'auto', 'auto');\n      // vm.weeklyChart = echarts.init(document.getElementById('chartWeekly'), 'canvas', 'auto', 'auto');\n      window.onresize = () => {\n        return (() => {\n          window.screenWidth = document.body.clientWidth\n          vm.screenWidth = window.screenWidth;\n        })()\n      }\n    },\n    methods: {\n\n      asideToggleHandler: function (val) {\n        let vm = this;\n        console.log('切换侧栏');\n        vm.asideShow = val;\n        setTimeout(() => {\n            ChartDataHandler.chartResizeHandle(vm.dailyChart);\n            // ChartDataHandler.chartResizeHandle(vm.monthlyChart);\n            // ChartDataHandler.chartResizeHandle(vm.weeklyChart);\n          }, 500\n        )\n      },\n      filterSubmitHandle: async function (form) {\n        let vm = this;\n        let _params = [];\n\n        //  处理查询语句\n        if (form.itemSelected.length > 0) {\n          let _filter = [];\n          form.itemSelected.forEach(item => {\n            if (item != undefined) {\n              _filter.push({'line_id-eq': item.id})\n            }\n          });\n          _params.push(_filter)\n        }\n\n        let _beginDate, _endDate;\n        //  处理date查询\n        // if (form.dateSelected.length > 0) {\n        _beginDate = form.dateSelected[0];\n        _endDate = form.dateSelected[1];\n        // }\n        //  处理chart查询\n        if (form.chartSelected.length > 0) {\n          vm.chartSelected = form.chartSelected;\n          if (vm.showDailyChart) {\n            let queryParams = [..._params];\n            queryParams.push([{'dy-gte-and': _beginDate}]);\n            queryParams.push([{'dy-lte-and': _endDate}]);\n            await ChartsApi.fetchstatamazonlinedaily('/v1/statamazonlinebuyboxday/', {\n              order: ['dy','line_id'],\n              size: 500000\n            }, queryParams).then(response => {\n              console.log(response);\n              vm.daliyChartOptions = ChartDataHandler.lineDailyChangHandle(vm.dailyChart, response.data, vm);\n            }).catch(err => {\n              console.log(err);\n            });\n          }\n\n          // if (vm.showMonthlyChart) {\n          //   let queryParams = [..._params];\n          //   queryParams.push([{'first_day-gte-and': _beginDate}]);\n          //   queryParams.push([{'last_day-lte-and': _endDate}]);\n          //   await ChartsApi.statamazonskutotalitemsmonth({}, queryParams).then(data => {\n          //     vm.monthlyChartOptions = ChartDataHandler.skuMonthlyChangeHandle(vm.monthlyChart, data, vm);\n          //   });\n          //\n          // }\n          // if (vm.showWeeklyChart) {\n          //   let queryParams = [..._params];\n          //   queryParams.push([{'first_day-gte-and': _beginDate}]);\n          //   queryParams.push([{'last_day-lte-and': _endDate}]);\n          //   await ChartsApi.statamazonskutotalitemsweek({}, queryParams).then(data => {\n          //     vm.weeklyChartOptions = ChartDataHandler.skuWeeklyChangeHandle(vm.weeklyChart, data, vm);\n          //   });\n          // }\n        }\n      },\n      //  筛选器刷新\n      filterSubmit: async function (form) {\n        let vm = this;\n\n        vm.fullscreenLoading = true;\n        await vm.filterSubmitHandle(form).then(res => {\n          vm.fullscreenLoading = false;\n          vm.$message.success(vm.$i18n.t('message.success'))\n        }).catch(e => {\n          vm.fullscreenLoading = false;\n          vm.$message.error(e)\n        })\n\n      },\n      chartResizeHandle() {\n\n      }\n    },\n    computed: {\n      showDailyChart: function () {\n        return this.chartSelected.indexOf('chart_daily') >= 0\n      },\n      // showMonthlyChart: function () {\n      //   return this.chartSelected.indexOf('chart_monthly') >= 0\n      // },\n      // showWeeklyChart: function () {\n      //   return this.chartSelected.indexOf('chart_weekly') >= 0\n      // }\n    },\n    watch: {\n      screenWidth(val) {\n        if (!this.timer) {\n          this.screenWidth = val;\n          this.timer = true;\n          let vm = this;\n          setTimeout(function () {\n            // that.screenWidth = that.$store.state.canvasWidth\n            console.log(vm.screenWidth);\n            // vm.init();\n            ChartDataHandler.chartResizeHandle(vm.dailyChart);\n            // ChartDataHandler.chartResizeHandle(vm.monthlyChart);\n            // ChartDataHandler.chartResizeHandle(vm.weeklyChart);\n            vm.timer = false\n          }, 500)\n        }\n      },\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  .chart\n    &-box\n      margin: 3em 0;\n    width: 100%\n    height: 500px\n\n  .el-checkbox-group\n    text-align: left;\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/chartPage/chartLineBuyBoxPerChart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-aside',{staticClass:\"aside\",class:!!_vm.asideShow?'aside-show':'aside-hide'},[_c('div',{staticClass:\"aside-toggle-btn\"},[(!!_vm.asideShow)?_c('el-button',{attrs:{\"icon\":\"el-icon-d-arrow-left\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.asideToggleHandler(!_vm.asideShow)}}}):_c('el-button',{attrs:{\"icon\":\"el-icon-d-arrow-right\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.asideToggleHandler(!_vm.asideShow)}}})],1),_vm._v(\" \"),_c('side-filter',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"chartModes\":_vm.chartModes,\"getLineUrl\":\"/v1/statamazonline/\"},on:{\"listenFilterSubmit\":_vm.filterSubmit}})],1),_vm._v(\" \"),_c('el-container',[_c('el-main',{style:(!!_vm.fixShow ? 'margin :0 0 0 270px;' : ''),attrs:{\"id\":\"main-box\"}},[_c('h1',[_vm._v(\"Report List\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show.sync\",value:(_vm.showDailyChart),expression:\"showDailyChart\",modifiers:{\"sync\":true}}],staticClass:\"chart-box\"},[_c('div',{staticClass:\"chart\",attrs:{\"id\":\"chartDaily\"}})])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e21ea816\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/chartPage/chartLineBuyBoxPerChart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e21ea816\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chartLineBuyBoxPerChart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chartLineBuyBoxPerChart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chartLineBuyBoxPerChart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e21ea816\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./chartLineBuyBoxPerChart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e21ea816\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chartPage/chartLineBuyBoxPerChart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}